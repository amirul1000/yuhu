<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Task Create</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/font-awesome.min.css">
        <link rel="stylesheet" href="css/bootstrap-material-datetimepicker.css">
        <link rel="stylesheet" href="css/ripples.min.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

        <!-- Include Bootstrap Datepicker -->
        <link href="css/mobiscroll.custom-3.2.6.min.css" rel="stylesheet">
        <link rel="stylesheet" href="css/style.css?v=1.1">
        <link rel="stylesheet" href="css/respnsive.css">
        <link rel="stylesheet" href="css/toastr.css">

        <script src="js/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/mobiscroll.custom-3.2.6.min.js"></script>
        <script src="js/moment-with-locales.min.js"></script>
        <script src="js/toastr.js"></script>
        <script src="js/step-form.js"></script>
        <script src="js/autoNumeric-1.8.3.js"></script>
        <script src="cordova.js"></script>
        <script>
            //auto price format
            $(document).ready(function () {
                $('.numberFormat').autoNumeric('init');
            });
        </script>

        <script src="js/custom.js"></script>

        <style>
            .second-hide {
                display: block;
            }

        </style>

        <script language="javascript">
            $(document).ready(function () {
                var urlParams = location.search.split(/[?&]/).slice(1).map(function (paramPair) {
                    return paramPair.split(/=(.+)?/).slice(0, 2);
                }).reduce(function (obj, pairArray) {
                    obj[pairArray[0]] = pairArray[1];
                    return obj;
                }, {});
                localStorage.setItem('category', urlParams.category.replace(/%20/g, " "));
            });

            //image upload
            document.querySelector("html").classList.add('js');

            var fileInput = document.querySelector(".input-file"),
                    button = document.querySelector(".input-file-trigger"),
                    the_return = document.querySelector(".file-return");

            button.addEventListener("keydown", function (event) {
                if (event.keyCode == 13 || event.keyCode == 32) {
                    fileInput.focus();
                }
            });
            button.addEventListener("click", function (event) {
                fileInput.focus();
                return false;
            });
            fileInput.addEventListener("change", function (event) {
                the_return.innerHTML = this.value;
            });

        </script>
    </head>

    <body>
        <!--Loader-->    
        <div id="loader-bg" class=""></div>
        <div id="loader" style="display: none"></div>

        <section class="back-button-section">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="back-button">
                            <a href="task-post.html?parent_id=0"><i class="fa fa-arrow-left" aria-hidden="true"></i></a>
                            Post a task
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="task task-create" style="padding-top: 60px">
            <div class="container hide" >
                <div class="row form-group">
                    <div class="col-xs-12">
                        <ul class="nav nav-justified setup-panel">
                            <li class="active">
                                <span></span>
                                <a href="#step-1" id="step-11">Details</a>
                            </li>
                            <li class="disabled">
                                <span></span>
                                <a href="#step-2" id="step-12">due date</a>
                            </li>
                            <li class="disabled">
                                <span></span>
                                <a href="#step-3" id="step-13">Budget</a>
                            </li>
                            <li class="disabled">
                                <span></span>
                                <a href="#step-4" id="step-14">Budget</a>
                            </li>
                            <li class="disabled">
                                <span></span>
                                <a href="#step-5" id="step-15">Budget</a>
                            </li>
                            <li class="disabled">
                                <span></span>
                                <a href="#step-6" id="step-16">Budget</a>
                            </li>
                            <li class="disabled">
                                <span></span>
                                <a href="#step-7" id="step-17">Budget</a>
                            </li>
                            <li class="disabled">
                                <span></span>
                                <a href="#step-8" id="step-18">Budget</a>
                            </li>
                            <li class="disabled">
                                <span></span>
                                <a href="#step-9" id="step-19">Budget</a>
                            </li>
                            <li class="disabled">
                                <span></span>
                                <a href="#step-10" id="step-20">Budget</a>
                            </li>
                            <li class="disabled">
                                <span></span>
                                <a href="#step-11" id="step-21">Budget</a>
                            </li>

                        </ul>
                    </div>
                </div>
            </div>	

            <form class="container text-left" >
                <div class="row setup-content" id="step-1">
                    <div class="col-xs-12">
                        <div class="form-group">
                            <h3 class="label-area">What do you need help with?</h3>
                            <div class="exm-area">
                                <h4>For Example...</h4>
                                <p>I need my house cleaned</p>
                            </div>
                            <input type="text" class="form-control input-lg" name="task_title" id="task_title" maxlength="40" />



                        </div>
                    </div>
                    <div class="col-xs-12 margin-top-50">
                        <div class="form-group text-center post-btn">
                            <button type="button" id="activate-step-2" class="btn submit-btn pull-right" style="width: 35%; font-weight: 500">Next</button>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
                <div class="row setup-content" id="step-2">
                    <div class="col-xs-12">
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100" style="width:10%">
                                10%
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-xs-12">
                        <div class="form-group">
                            <h3 class="label-area">Describe your task.</h3>
                            <div class="exm-area">
                                <p style="margin-bottom: 12px">For Example...</p>
                                <p>I need someone to visit my house twice daily to feed and walk my Golden Retriever.</p>
                            </div>
                            <textarea class="form-control" rows="5"  name="description" id="description" ></textarea>
                        </div>
                    </div>
                    <div class="col-xs-12 margin-top-50">
                        <div class="form-group text-center post-btn">
                            <ul class="nav nav-justified setup-panel pull-left" style="width: 35%; display: inline-block">
                                <li class="" style="width: 100%">
                                    <a href="#step-1" class="btn btn-default more-option back-btn">Back</a>
                                </li>
                            </ul>
                            <button type="button" id="activate-step-3" class="btn submit-btn pull-right" style="width: 35%; font-weight: 500">Next</button>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
                <div class="row setup-content" id="step-3">
                    <div class="col-xs-12">
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width:20%">
                                20%
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-md-12">
                        <link href="Simple-Ajax-Uploader-master/assets/css/styles.css" rel="stylesheet">
                        <div class="form-group" style="margin-bottom: 0">
                            <h3 class="label-area">Upload pictures or video</h3>
                            <h5 class="not-rq" style="font-weight: 700">Use images to describe your task</h5>
                            <h5 class="not-rq">(not required)</h5>
                            <div class="input-file-container">

                                <input type="button" class="input-file inputfile" id="uploadBtn1"  onClick="cameraTakePicture();" >
                                <label tabindex="0" for="uploadBtn1" class="input-file-trigger"><i class="fa fa-picture-o" aria-hidden="true"></i> Take/Upload a Picture</label>

                            </div>
                            <p style="font-size: 13px">Supported files png, jpg, jpeg</p>
                            <img id="task_img" src="" style="width:35px;height:35px;">

                            <!--</div>-->
                            <!-- http://theonlytutorials.com/jquery-ajax-file-upload-with-percentage-progress-bar-->
                            <script>
                                 function cameraTakePicture() {
                                           navigator.camera.getPicture(onSuccess, onFail, {
                                                                     destinationType: Camera.DestinationType.DATA_URL,
                                                                     sourceType: Camera.PictureSourceType.CAMERA,
                                                                     popoverOptions: new CameraPopoverOptions(300, 300, 200, 200, Camera.PopoverArrowDirection.ARROW_ANY)
                                                                 });

                                           }

                                   function onSuccess(imageData) {
                                            $("#task_img").attr("src","data:image/jpeg;base64," + imageData);
                                           /////////////////////////////////////////////////////////////////////
                                                $('.myprogress').css('width', '0');
                                                $('.msg').text('');
                                                var formData = new FormData();
                                                formData.append('task_picture', "data:image/jpeg;base64," + imageData);
                                                formData.append('session_id', localStorage.getItem("session_id"));
                                                 $('.msg').text('Uploading in progress...');
                                                $.ajax({
                                                    url: localStorage.getItem("url_service") + '/rest-api/upload_blob?session_id=' + localStorage.getItem("session_id"),
                                                    data: formData,
                                                    processData: false,
                                                    contentType: false,
                                                    type: 'POST',
                                                    // this part is progress bar
                                                    xhr: function () {
                                                        var xhr = new window.XMLHttpRequest();
                                                        xhr.upload.addEventListener("progress", function (evt) {
                                                            if (evt.lengthComputable) {
                                                                var percentComplete = evt.loaded / evt.total;
                                                                percentComplete = parseInt(percentComplete * 100);
                                                                $('.myprogress').text(percentComplete + '%');
                                                                $('.myprogress').css('width', percentComplete + '%');
                                                            }
                                                        }, false);
                                                        return xhr;
                                                    },
                                                    success: function (data) {
                                                        $('.msg').text(data);
                                                    }
                                                });
                                           /////////////////////////////////////////////////////////////////////
                                   }

                                   function onFail(message) {
                                      alert('Failed because: ' + message);
                                   }
                            </script>

                            <div class="form-group">
                                <div class="progress">
                                    <div class="progress-bar progress-bar-success myprogress" role="progressbar" style="width:0%">0%</div>
                                </div>
                                <div class="msg"></div>
                            </div>
                        </div>
                            <!--<div class="input-file-container">
                                <input class="input-file inputfile" id="uploadBtn1" type="file" >
                                <label tabindex="0" for="uploadBtn1" class="input-file-trigger"><i class="fa fa-picture-o" aria-hidden="true"></i> Take/Upload a Picture</label>
                            </div>
                            <p class="t-up">Supported files png, jpg, jpeg</p>
                            <div id="msgBox1"></div>
                            <div class="row" style="padding-top:10px;">
                                <div class="col-xs-10">
                                    <div id="progressOuter1" class="progress progress-striped active" style="display:none;">
                                        <div id="progressBar1" class="progress-bar progress-bar-success"  role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <script src="Simple-Ajax-Uploader-master/SimpleAjaxUploader.js"></script>
                            <script>
                                function escapeTags(str) {
                                    return String(str)
                                            .replace(/&/g, '&amp;')
                                            .replace(/"/g, '&quot;')
                                            .replace(/'/g, '&#39;')
                                            .replace(/</g, '&lt;')
                                            .replace(/>/g, '&gt;');
                                }

                                $(document).ready(function () {

                                    var btn = document.getElementById('uploadBtn1'),
                                            progressBar = document.getElementById('progressBar1'),
                                            progressOuter = document.getElementById('progressOuter1'),
                                            msgBox = document.getElementById('msgBox1');

                                    var uploader = new ss.SimpleUpload({
                                        button: btn,
                                        url: localStorage.getItem("url_service") + '/rest-api/file_upload?session_id=' + localStorage.getItem("session_id"),
                                        sessionProgressUrl: 'Simple-Ajax-Uploader-master/code/sessionProgress.php',
                                        name: 'task_picture',
                                        multipart: true,
                                        hoverClass: 'hover',
                                        focusClass: 'focus',
                                        responseType: 'json',
                                        allowedExtensions: ['jpg', 'jpeg', 'png'],
                                        maxSize: 8224,
                                        startXHR: function () {
                                            progressOuter.style.display = 'block'; // make progress bar visible
                                            this.setProgressBar(progressBar);
                                        },
                                        onSubmit: function () {
                                            msgBox.innerHTML = ''; // empty the message box
                                            btn.innerHTML = 'Uploading...'; // change button text to "Uploading..."
                                        },
                                        onComplete: function (filename, response) {
                                            //btn.innerHTML = 'Choose Another File';
                                            btn.innerHTML = 'Choose File';
                                            progressOuter.style.display = 'none'; // hide progress bar when upload is completed


                                            if (!response) {
                                                msgBox.innerHTML = 'Unable to upload Supported files pdf, png, jpg, jpeg';
                                                return;
                                            }

                                            if (response.success === true) {
                                                msgBox.innerHTML = '<strong>' + escapeTags(filename) + '</strong>';
                                                var msg = 'successfully uploaded...';
                                                toastr.options.timeOut = 1500;
                                                toastr.success(msg);

                                            } else {
                                                if (response.msg) {
                                                    profile();
                                                    msgBox.innerHTML = escapeTags(response.msg);

                                                } else {
                                                    msgBox.innerHTML = 'An error occurred and the upload failed.';
                                                }
                                            }
                                        },
                                        error: function (error) {
                                            progressOuter.style.display = 'none';
                                            alert('Unable to upload Supported files pdf, png, jpg, jpeg');
                                            msgBox.innerHTML = 'Unable to upload Supported files pdf, png, jpg, jpeg';
                                        }
                                    });
                                });
                            </script>

                        </div>
                        -->

                        <!--Video-->
                        <div class="form-group">
                            <link href="Simple-Ajax-Uploader-master/assets/css/styles.css" rel="stylesheet">
                            <div class="input-file-container">  
                                <input class="input-file inputfile" id="uploadBtn2" type="file" >
                                <label tabindex="0" for="uploadBtn2" class="input-file-trigger"><i class="fa fa-video-camera" aria-hidden="true"></i> Take/Upload a Video</label>
                            </div>
                            <p class="t-up">Supported files mp4, mov, gif, ogg</p>

                            <div class="row" style="padding-top:10px;">
                                <div class="col-xs-10">
                                    <div id="progressOuter2" class="progress progress-striped active" style="display:none;">
                                        <div id="progressBar2" class="progress-bar progress-bar-success"  role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row" style="padding-top:10px;">
                                <div class="col-xs-10">
                                    <div id="msgBox2">
                                    </div>
                                </div>
                            </div>

                            <script src="Simple-Ajax-Uploader-master/SimpleAjaxUploader.js"></script>
                            <script>
            function escapeTags(str) {
                return String(str)
                        .replace(/&/g, '&amp;')
                        .replace(/"/g, '&quot;')
                        .replace(/'/g, '&#39;')
                        .replace(/</g, '&lt;')
                        .replace(/>/g, '&gt;');
            }

            $(document).ready(function () {

                var btn = document.getElementById('uploadBtn2'),
                        progressBar = document.getElementById('progressBar2'),
                        progressOuter = document.getElementById('progressOuter2'),
                        msgBox = document.getElementById('msgBox2');

                var uploader = new ss.SimpleUpload({
                    button: btn,
                    url: localStorage.getItem("url_service") + '/rest-api/file_upload?session_id=' + localStorage.getItem("session_id"),
                    sessionProgressUrl: 'Simple-Ajax-Uploader-master/code/sessionProgress.php',
                    name: 'task_video',
                    multipart: true,
                    hoverClass: 'hover',
                    focusClass: 'focus',
                    responseType: 'json',
                    allowedExtensions: ['mp4', 'mov', 'gif', 'ogg'],
                    startXHR: function () {
                        progressOuter.style.display = 'block'; // make progress bar visible
                        this.setProgressBar(progressBar);
                    },
                    onSubmit: function () {
                        msgBox.innerHTML = ''; // empty the message box
                        btn.innerHTML = 'Uploading...'; // change button text to "Uploading..."
                    },
                    onComplete: function (filename, response) {
                        //btn.innerHTML = 'Choose Another File';
                        btn.innerHTML = 'Choose File';
                        progressOuter.style.display = 'none'; // hide progress bar when upload is completed

                        if (!response) {
                            msgBox.innerHTML = 'Unable to upload Supported video mp4, mov, gif, ogg';
                            return;
                        }

                        if (response.success === true) {
                            msgBox.innerHTML = '<strong>' + escapeTags(filename) + '</strong>' + ' successfully uploaded.';

                        } else {
                            if (response.msg) {
                                profile();
                                msgBox.innerHTML = escapeTags(response.msg);

                            } else {
                                msgBox.innerHTML = 'An error occurred and the upload failed.';
                            }
                        }
                    },
                    onError: function () {
                        progressOuter.style.display = 'none';
                        msgBox.innerHTML = 'Unable to upload Supported video mp4, mov, gif, ogg';
                    }
                });
            });
                            </script>

                        </div>
                    </div>
                    <div class="col-xs-12 margin-top-50">
                        <div class="form-group text-center post-btn">
                            <ul class="nav nav-justified setup-panel pull-left" style="width: 35%; display: inline-block">
                                <li class="" style="width: 100%">
                                    <a href="#step-2" class="btn btn-default more-option back-btn">Back</a>
                                </li>
                            </ul>
                            <button type="button" id="activate-step-4" class="btn submit-btn pull-right" style="width: 35%; font-weight: 500">Next</button>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
                <div class="row setup-content" id="step-4">
                    <div class="col-xs-12">
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100" style="width:30%">
                                30%
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-md-12">
                        <h3 class="label-area">Is this an on-site or virtual task?</h3>
                        <!--<h5 class="not-rq no-margin">Can This Task be Completed Online?</h5>-->
                        <div class="exm-area" style="margin: 15px 0">
                            <p>Virtual tasks don't require an address.</p>
                            <p style="margin-top: 10px">Examples of virtual tasks:</p>
                            <p>Graphic design, consulting, accounting</p>

                        </div>

                        <div class="form-group text-center">
                            <div class="btn-group" id="status" data-toggle="buttons" style="margin-top: 5px;">
                                <label class="btn btn-default btn-on btn-sm on-btn" id="online_yes_m" style="width: 145px; font-size: 16px;">
                                    <input type="radio" value="2" name="online" id="online_yes" >VIRTUAL
                                </label>
                                <label class="btn btn-default btn-off btn-sm off-btn active" id="online_no_m" style="width: 145px; font-size: 16px;">
                                    <input type="radio" value="1" name="online" id="online_no" checked="checked">ON-SITE
                                </label>
                            </div>
                        </div>
                        <div class="first-hide"></div>
                        <div class="second-hide">
                            <div class="form-group">
                                <input type="text" name="task_location" id="task_location" class="form-control input-lg" placeholder="New York, NY 10001">
                                <h5 class="not-rq" style="margin-bottom: 40px">City, State, Zip <br>Not Specific Address</h5>
                                <input type="hidden" name="latitude" id="latitude"  value=""  >
                                <input type="hidden" name="longitude" id="longitude"  value=""  >

                                <script type="text/javascript">
                                    $(document).ready(function () {
                                        $("#task_location").change(function () {
                                            codeAddress();
                                        });

                                        function codeAddress() {
                                            var address = $("#task_location").val();

                                            $.ajax({
                                                url: "https://maps.googleapis.com/maps/api/geocode/json?address=" + address + "&sensor=false",
                                                type: "POST",
                                                success: function (res) {
                                                    console.log(res.results[0].geometry.location.lat);
                                                    console.log(res.results[0].geometry.location.lng);

                                                    $("#latitude").val(res.results[0].geometry.location.lat);
                                                    $("#longitude").val(res.results[0].geometry.location.lng);
                                                }
                                            });
                                        }

                                    });
                                </script>

                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 margin-top-50">
                        <div class="form-group text-center post-btn">
                            <ul class="nav nav-justified setup-panel pull-left" style="width: 35%; display: inline-block">
                                <li class="" style="width: 100%">
                                    <a href="#step-3" class="btn btn-default more-option back-btn">Back</a>
                                </li>
                            </ul>
                            <button type="button" id="activate-step-5" class="btn submit-btn pull-right" style="width: 35%; font-weight: 500">Next</button>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>

                <div class="row setup-content" id="step-5">
                    <div class="col-xs-12">
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:40%">
                                40%
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-xs-12">
                        <div class="form-group">
                            <h3 class="label-area">When do you need this task completed?</h3>
                            <input type="text" class="form-control input-lg datePicker" name="due_date" id="due_date" placeholder="Select Date" />

                        </div>
                    </div>
                    <div class="col-xs-12 margin-top-50">
                        <div class="form-group text-center post-btn">
                            <ul class="nav nav-justified setup-panel pull-left" style="width: 35%; display: inline-block">
                                <li class="" style="width: 100%">
                                    <a href="#step-4" class="btn btn-default more-option back-btn">Back</a>
                                </li>
                            </ul>
                            <button type="button" id="activate-step-6" class="btn submit-btn pull-right" style="width: 35%; font-weight: 500">Next</button>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>

                <div class="row setup-content step-6b" id="step-6">
                    <div class="col-xs-12">
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width:50%">
                                50%
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-xs-12">
                        <h3 class="label-area">How will you pay the worker?</h3>
                        <div class="form-group text-center">
                            <div class="btn-group" id="status" data-toggle="buttons" style="margin-top: 5px;">
                                <label class="btn btn-default btn-on btn-sm on-btn active" style="width: 130px; font-size: 17px;"><input type="radio" value="1" name="budget_type" id="budget_type_total" checked="checked">Per task</label>
                                <label class="btn btn-default btn-off btn-sm  off-btn" style="width: 130px; font-size: 17px;"><input type="radio" value="2" name="budget_type" id="budget_type_hourly">Per hour</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 margin-top-50">
                        <div class="form-group text-center post-btn">
                            <ul class="nav nav-justified setup-panel pull-left" style="width: 35%; display: inline-block">
                                <li class="" style="width: 100%">
                                    <a href="#step-5" class="btn btn-default more-option back-btn">Back</a>
                                </li>
                            </ul>
                            <button type="button" id="activate-step-7" class="btn submit-btn pull-right" style="width: 35%; font-weight: 500">Next</button>
                            <div class="clearfix"></div>
                        </div>
                    </div>

                </div>
                <div class="row setup-content" id="step-7">
                    <div class="col-xs-12">
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width:60%">
                                60%
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-xs-12">
                        <div class="first-hide price-per-hour" style="display: block">
                            <h3 class="label-area">What's your total budget?</h3>
                            <div class="form-group">
                                <div class="form-group">
                                    <input type="text" name="budget" id="budget" class="form-control input-lg numberFormat" placeholder="Budget" data-a-sign="$ " data-a-dec="." data-a-sep=",">
                                </div>
                                <div class="exm-area">
                                    <p>Yuhu Life workers will make offers which may be higher, lower, or the same as your stated budget. You will have the opportunity to negotiate an agreeable amount.</p>
                                </div>
                            </div>
                        </div>

                        <div class="second-hide price-per-fixed" style="display: none">
                            <h3 class="label-area" style="font-size: 28pt; line-height: 45px">How much will you pay per hour?</h3>
                            <div class="form-group">
                                <input type="number" name="price_per_hour" id="price_per_hour" class="form-control input-lg numberFormat"  data-a-sign="$ " data-a-dec="." data-a-sep=",">
                            </div>
                            <h3 class="label-area" style="font-size: 28pt; line-height: 45px">How many hours can you guaranty?</h3>
                            <div class="form-group">
                                <div class="hr-price">
                                    <input type="number" name="hours" id="hours" class="form-control input-lg" aria-describedby="basic-addon2">
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="col-xs-12 margin-top-50">
                        <div class="form-group text-center post-btn">
                            <ul class="nav nav-justified setup-panel pull-left" style="width: 35%; display: inline-block">
                                <li class="" style="width: 100%">
                                    <a href="#step-6" class="btn btn-default more-option back-btn">Back</a>
                                </li>
                            </ul>
                            <button type="button" id="activate-step-8" class="btn submit-btn pull-right" style="width: 35%; font-weight: 500">Next</button>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
                <div class="row setup-content" id="step-8">
                    <div class="col-xs-12">
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width:80%">
                                80%
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-xs-12">
                        <h3 class="label-area">Are you available for an on-site quote?</h3>
                        <div class="form-group text-center">
                            <div class="btn-group" data-toggle="buttons" style="margin-top: 30px;">
                                <label class="btn btn-default btn-on btn-sm onsite_quote_yes" style="width: 130px; font-size: 17px;" >
                                    <input type="radio" value="yes" name="onsite_quote" >YES
                                </label>
                                <label class="btn btn-default btn-off btn-sm active" id="onsite_quote_no" style="width: 130px; font-size: 17px;" >
                                    <input type="radio" value="no" name="onsite_quote" checked="checked">NO
                                </label>
                            </div>
                        </div>
                        <p class="text-center" style="margin-bottom: 20px; font-size: 20px; line-height: 25px">Some posted tasks require an on-site visit in order to provide an accurate quote.</p>
                    </div>
                    <div class="col-xs-12 margin-top-50">
                        <div class="form-group text-center post-btn" id="actice-next-9">
                            <ul class="nav nav-justified setup-panel pull-left" style="width: 35%; display: inline-block">
                                <li class="" style="width: 100%">
                                    <a href="#step-7" class="btn btn-default more-option back-btn">Back</a>
                                </li>
                            </ul>
                            <button type="button" id="activate-step-9" class="btn submit-btn pull-right" style="width: 35%; font-weight: 500">Next</button>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
                <div class="row setup-content step-9b" >
                    <div class="col-xs-12">
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:90%">
                                90%
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-xs-12">
                        <div id="end-date-hide" style="display: none">
                            <h3 class="label-area">On-site quote availability</h3>
                            <div class="form-group">
                                <h5 class="not-rq">Earliest Availability</h5>
                                <div class="input-append">
                                    <input type="text" class="form-control input-lg" name="start_date" id="date-start" placeholder="MM/DD/YYYY" />
                                </div>
                                <p class="on-site-q">Earliest date that you're available for an on-site quote</p>
                            </div>
                            <div class="form-group">
                                <h5 class="not-rq">Latest Availability</h5>
                                <div class="input-append">
                                    <input type="text" class="form-control input-lg" name="end_date" id="date-end" placeholder="MM/DD/YYYY" />
                                </div>
                                <p class="on-site-q">Latest date that you're available for an on-site quote</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 margin-top-50">
                        <div class="form-group text-center post-btn">
                            <ul class="nav nav-justified setup-panel pull-left" style="width: 35%; display: inline-block">
                                <li class="" style="width: 100%">
                                    <a href="#step-8" class="btn btn-default more-option back-btn">Back</a>
                                </li>
                            </ul>
                            <button type="button" id="activate-step-10" class="btn submit-btn pull-right" style="width: 35%; font-weight: 500">Next</button>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>

                <div class="row setup-content step-10b" id="step-9">
                    <div class="col-xs-12">
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%">
                                100%
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-xs-12">
                        <h3 class="label-area">You're Finished!</h3>
                        <p class="on-site-q" style="line-height: 30px; font-size: 18px">YOU’RE NOW READY TO POST YOUR TASK. YOU’LL BE NOTIFIED WHEN YUHU LIFE WORKERS RESPOND TO POSTING WITH QUESTIONS, COMMENTS, OR OFFERS.</p>
                    </div>
                    <div class="col-xs-12 margin-top-50">
                        <div class="form-group text-center post-btn">
                            <ul class="nav nav-justified setup-panel pull-left" style="width: 35%; display: inline-block">
                                <li class="" style="width: 100%">
                                    <a href="#step-8" class="btn btn-default more-option back-btn step-10bs">Back</a>
                                </li>
                            </ul>
                            <button type="button" id="btn_post_task" class="btn submit-btn pull-right" style="width: 35%; font-weight: 500">Post</button>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
                <input type="hidden" name="no_workes" id="no_workes" value="1" />
            </form>

        </section>

        <script>

            $(".onsite_quote_yes").click(function () {
                $("#end-date-hide").show();
                $('.step-9b').attr('id', 'step-9');
                $('.step-10b').attr('id', 'step-10');
                $(".step-10bs").attr("href", "#step-9");
            });
            $("#onsite_quote_no").click(function () {
                $("#end-date-hide").hide();
                $('.step-9b').attr('id', 'step-10');
                $('.step-10b').attr('id', 'step-9');
                $(".step-10bs").attr("href", "#step-8");
            });

        </script>

        <script>
            //////////////////Post the Job///////////////
            $(document).ready(function () {

                $('#btn_post_task').click(function (event) {

                    event.preventDefault();
                    event.stopPropagation();

                    if ($("#task_title").val() == "")
                    {
                        toastr.options.timeOut = 1500;
                        toastr.error("Task Title is required field");
                        return;

                    }
                    if ($("#description").val() == "")
                    {
                        toastr.options.timeOut = 1500;
                        toastr.error("Description is a required field");
                        return;

                    }

                    if ($(".active input[name='budget_type']").val() == 1) {
                        if ($("#budget").val() == "")
                        {
                            toastr.options.timeOut = 1500;
                            toastr.error("Budget is required field");
                            return falsel;

                        }
                    } else {
                        if ($("#hours").val() == "")
                        {
                            toastr.options.timeOut = 1500;
                            toastr.error("Hours is required field");
                            return falsel;

                        }
                        if ($("#price_per_hour").val() == "")
                        {
                            toastr.options.timeOut = 1500;
                            toastr.error("Price pre hour is required field");
                            return falsel;

                        }
                    }
                    if ($(".active input[name='onsite_quote']").val() == 'yes') {
                        if ($("#date-start").val() == "") {
                            toastr.options.timeOut = 1500;
                            toastr.error("On-site quote start date is required field");
                            return falsel;
                        }
                        if ($("#date-end").val() == "") {
                            toastr.options.timeOut = 1500;
                            toastr.error("On-site quote end date is required field");
                            return falsel;
                        }
                    }

                    if (($("#budget").val() != "") || (($("#price_per_hour").val() != "") && ($("#hours").val() != ""))) {
                        document.getElementById("loader").style.display = "block";
                        $("#loader-bg").addClass("loader-bg");
                        if ($("#latitude").val() === '') {
                            var latitude = localStorage.getItem("go_latitude");
                        } else {
                            var latitude = $("#latitude").val();
                        }
                        if ($("#longitude").val() === '') {
                            var longitude = localStorage.getItem("go_longitude");
                        } else {
                            var longitude = $("#longitude").val();
                        }
                        $.ajax({
                            headers: {
                                "Access-Control-Allow-Origin": "*",
                                "Access-Control-Allow-Methods": "GET, POST, PUT",
                                "Access-Control-Allow-Headers": "Content-Type",
                            },
                            type: "POST",
                            url: localStorage.getItem("url_service") + '/rest-api/server',
                            data: {
                                "cmd": "post_task",
                                "users_id": localStorage.getItem("users_id"),
                                "category": localStorage.getItem("category"),
                                "task_title": $("#task_title").val(),
                                "description": $("#description").val(),
                                "online": $('input[name="online"]:checked').val(),
                                "task_location": $("#task_location").val(),
                                "due_date": $("#due_date").val(),
                                "hours": $("#hours").val(),
                                "latitude": latitude,
                                "longitude": longitude,
                                "price_per_hour": $("#price_per_hour").val(),
                                "budget_type": $('input[name="budget_type"]:checked').val(),
                                "budget": $("#budget").val(),
                                "no_workes": $("#no_workes").val(),
                                "onsite_quote": $(".onsite_quote_yes.active input").val(),
                                "start_date": $("#date-start").val(),
                                "complation_date": $("#date-end").val(),
                                "session_id": localStorage.getItem("session_id")
                            },
                            success: function (results) {
                                Arr = JSON.parse(results);

                                if (Arr['status'] === "success")
                                {
                                    localStorage.setItem("task_id", Arr['id']);
                                    toastr.options.timeOut = 1500;
                                    toastr.success(Arr['msg']);
                                    window.location.href = "success-post.html";

                                    $("#loader-bg").removeClass("loader-bg");
                                    document.getElementById("loader").style.display = "none";


                                }


                            },
                            error: function (XMLHttpRequest, textStatus, errorThrown) {
                                //toastr.options.timeOut = 1500;
                                //toastr.error("some error");
                                return false;
                            }
                        });

                    }

                    return false;

                });
            });

            //Loader
            var myVar;
            function myFunction() {
                myVar = setTimeout(showPage, 1000);
                $("#loader-bg").addClass("loader-bg");
            }
            function showPage() {
                $("#loader-bg").removeClass("loader-bg");
                document.getElementById("loader").style.display = "none";

            }


            $(function () {
                var now = new Date(),
                        max = new Date(now.getFullYear() + 100, now.getMonth(), now.getDate());

                $('.datePicker').mobiscroll().date({
                    theme: 'ios',
                    lang: 'en',
                    display: 'bottom',
                    max: max,
                    min: now
                });
            });
            $(function () {
                var now = new Date(),
                        max = new Date(now.getFullYear() + 100, now.getMonth(), now.getDate());

                $('#date-start').mobiscroll().date({
                    theme: 'ios',
                    lang: 'en',
                    display: 'bottom',
                    max: max,
                    min: now
                });
            });
            $("#date-start").change(function () {
                var now = new Date(),
                        date = $("#date-start").val(),
                        arr = date.split('/'),
                        min = new Date(arr[2], arr[0] - 1, arr[1]),
                        max = new Date(now.getFullYear() + 100, now.getMonth(), now.getDate());
                $('#date-end').mobiscroll().date({
                    theme: 'ios',
                    lang: 'en',
                    display: 'bottom',
                    min: min,
                    max: max
                });
            });

        </script>

        <script>
            function initMap() {
                var input = document.getElementById('task_location');
                new google.maps.places.Autocomplete(input);
            }

            function getGeoLocation() {
                var options = {
                    enableHighAccuracy: true,
                    maximumAge: 3600000
                }
                var watchID = navigator.geolocation.getCurrentPosition(onSuccess, onError, options);

                function onSuccess(position) {
                    localStorage.setItem("go_latitude", position.coords.latitude);
                    localStorage.setItem("go_longitude", position.coords.longitude);
                    $('#latitude').val(position.coords.latitude);
                    $('#longitude').val(position.coords.longitude);
                }
            }
            getGeoLocation();


        </script>
        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDv5TZ4_il1sukhMFSFChda0UHcL0js0Zg&callback=initMap&libraries=places"></script>
    </body>
</html>
